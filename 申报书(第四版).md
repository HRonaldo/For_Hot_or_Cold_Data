# 申报书 (9.30)

## 基本情况

#### 项目名称

基于在线优化算法的云数据库冷热数据识别问题

#### 项目简介

近年来，云服务技术的普及和发展推动了计算机应用云端化的进程。云服务开箱即用、按需计费、弹性伸缩等特性为数据库系统领域也带来了全新的发展机遇, 越来越多的本地部署的数据库系统已经向云端迁移。亚马逊、微软、谷歌等大型云数据库公司取得了明显的市场扩张, 在市场份额和市场利润等方面已经逐步追赶甚至超越 Oracle、IBM 等传统数据库系统巨头公司。

目前，新一代的云原生数据库技术正在迅速发展，发挥云原生的优势，从设计之初即考虑到云的环境，对数据库的架构进行了改进，致力于解决云托管数据库的调度弹性不足、资源耦合等弊端，进一步实现高扩展性、降低成本等。

本项目着眼于新一代的云原生数据库，在云原生数据库架构改进中的冷热存储分离问题上进行研究。基于云原生框架Kubernetes，利用在线优化方法为数据冷热分离问题提供算法和决策，综合考量存储成本和时间成本等因素，实现预期成本最小，既可以有效提升数据库性能，又可为小微企业实现降本增效。

#### 指导教师承担科研课题情况

指导教师杨林，在计算机相关领域的顶级会议和期刊（如SIGMETRICS，NeurIPS，INFOCOM等）中已发表论文二十余篇；其中，以第一作者身份在计算机系统建模与优化领域的旗舰会议SIGMETRICS发表了七篇高质量论文。主持江苏省自然科学基金青年项目1项，骨干参与香港高校与MIT合作研究计划，IBM、Adobe、Akamai等的多项科研项目。

#### 指导教师对本项目的支持情况

1. 指导教师对于本项目拟开展的研究内容有深入的了解，为算法设计等问题提供理论指导
2. 安排研究生协助指导项目的开展和技术细节
3. 提供了相关实验平台，分享项目相关的技术资料，定期开展线下指导交流

## 立项依据

#### 研究目的

云数据库按照架构可以划分为云托管数据库以及云原生数据库，云托管数据库将数据库系统直接部署到云上虚拟机环境中，具备低成本、易运维、高可靠的优势。在此基础上, 云原生数据库充分利用云基础设施弹性伸缩的特点, 采用计算存储分离的架构, 实现了计算资源和存储资源的独立伸缩, 进一步提升数据库性价比。计算存储分离的架构为云原生数据库的架构创新提供了基础，其中在存储层，冷热数据的存储分离就是创新之一。

云厂商提供的冷热存储节点具有不同的读写性能和收费标准，冷数据的存储成本仅为在线热数据的1/20成本，但是读写速度与热数据存储相差60倍左右。在业务发展过程中，小微企业需要在冷存储的读写时间成本与热存储的费用成本之间权衡，在冷热存储购置以及冷热数据迁移方面做出决策。但是，这些决策往往难以达到最优，造成了存储资源的浪费、配置成本的增加或者用户体验的下降等。

因此，本项目通过设计冷热数据识别算法，准确分离冷热数据，帮助小微企业用户对于冷热存储作出选择，通过精确地实施数据的冷热分离，可以在保证性能的前提下，大幅降低云原生数据库的使用成本，使得其成本仅与用户使用产生的热数据量相关，不会大规模增长；而冷数据成本则可以随着时间的推移线性增长，成本较低且可控。以此来寻求存储成本和系统性能之间的平衡，达到降本增效的效果。


#### 研究内容

冷热数据分离，是在云原生数据库存储层发生的演进之一。其分离的基本思路为，将热数据保留在高性能的存储设备中，用于应对日常频繁的写入与更新；冷数据则被迁移到低成本的存储设备里，减轻热数据的维护压力。实现冷热数据分离的重要前提，是对冷热数据实现良好的识别，并据此调度数据到不同性能的存储节点。因此，我们的研究内容主要为冷热识别算法的设计以及算法在平台方面的应用。

从云数据库的成本角度出发，热存储节点的读写速度极快，持续性的时间成本低，但一次性的配置成本较高；而冷存储节点的成本特点则与之相反。根据冷热存储的成本特点，本项目将据此建立模型，使用在线优化方法，综合考虑持续性成本和一次性成本，设计在线算法，寻求存储成本和系统性能之间的平衡。

在平台方面，本项目将在Kubernetes框架下以及国内主流云数据库的基础上，研究算法的部署和demo开发工作，为项目赋予实际应用价值。

#### 国内外研究现状和发展动态

在数据库系统中，常用的冷热数据识别方法有两种。第一种是时间识别方法，基于 LRU算法，主要关注于数据入库时间的局部性特征。第二种是频率识别方法，基于 LFU算法，主要关注于数据的访问频繁程度。LRU 算法和 LFU 算法在冷热数据识别方面都存在一定局限性，需要结合具体应用场景和数据进行选择和使用。

国内外有许多学者都提出了一些提高数据库性能的，效果更优的冷热数据识别方法，如梁懿等人提出的提高数据库系统性能的冷热数据识别算法 HF-ARC；SAP实验室的关系型数据库服务器SAP ASE，通过设计 BTrim 结构来实现冷热分离。此外，利用机器学习算法来构建一个基于学习的冷热数据分类方法，以预先预测文件块的冷热，并将其应用于缓存优化机制中，也是一个值得探讨和研究的问题。

我国一直在推动国产数据库产品的自主创新和发展，目前国产自主可控的数据库正处于快速发展阶段。但是，之于小型用户的冷热数据存储，以及将在线优化方法用于冷热识别，目前还没有特别适合的算法；所以本身项目将以解决小型用户的存储需求为目的，开发出基于 ski-rental 模型的冷热数据分离算法。

#### 创新点和项目特色

1. 利用在线优化方法中的Ski-rental问题模型对冷热存储分离问题进行研究，同时具有科学研究价值和应用价值
2. 问题着眼于云原生数据库中的冷热数据分离问题，成果产出能帮助小微企业降本增效，也可以助力云原生数据库的发展

#### 技术路线、拟解决的问题和预期成果

技术路线：

1. 阅读文献，总结研究现状和现有技术；调研云厂商的冷热存储服务，寻找应用前景
2. 基于在线优化的思想，综合现有研究以及云厂商的定价策略等，设计冷热数据识别算法
3. 通过本地模拟，以及在云服务器搭建的集群上仿真测试等方法，获取实验数据，并据此优化算法
4. 算法成熟后，开发demo，并不断迭代升级提高效能；待技术成熟后撰写论文

拟解决的问题：

准确识别冷热数据，最优化冷热存储配置，解决因配置不平衡，导致的数据在冷热存储之间迁移、数据读写及存储成本过高的问题

预期成果：

1. 将在线优化中的ski-rental问题与冷热存储分离场景结合，开发算法
2. 开发具有一定功能和应用价值的demo
3. 撰写相关论文，申请专利

#### 项目研究进度安排

整个项目为期一年，分为以下四个阶段：

1. 2023.9-2023.11
学习Kubernetes框架，云原生数据库，在线优化算法等基础知识，查阅相关文献，调研云服务器厂商的运营模式以及小微企业的需求
2. 2023.12-2024.2
与指导教师、研究生学长学姐讨论问题细节，进行问题建模，开发具体算法
3. 2024.3-2024.6
将算法部署到集群中，进行仿真测试，不断优化算法；开发具有一定功能的demo
4. 2024.7-2024.9
不断测试并优化算法，升级迭代demo，提高稳定性和效果；总结分析，撰写论文

#### 已有基础

1. 指导老师组内有丰富的在线优化问题及算法设计的研究经验
2. 已经提前进行的充分调研，对于Kubernetes框架、云原生数据库等概念有了一定的了解
3. 实验室可提供云服务器资源支持

#### 已具备的条件、尚缺少的条件、解决方法

已具备条件：项目具有可行的理论支撑和实际问题背景，云原生相关技术资料充足  
尚缺少的条件：在线优化问题中的ski-rental模型与实际的冷热存储分离问题之间尚存在一定差距，缺少更加具体可行的问题建模。  
解决方法：查阅相关文献资料，小组成员与指导老师进行讨论，尽快确定问题模型  